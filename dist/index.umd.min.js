!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.errorsToTelegram=n():e.errorsToTelegram=n()}(this,function(){return function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var t={};return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=3)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if("function"!=typeof e)throw new Error("consolePatch: fn must be a function");var n=console.warn.bind(console),t=console.error.bind(console);console.warn=function(){for(var t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];e.apply(void 0,["warn"].concat(o)),n.apply(void 0,o)},console.error=function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];e.apply(void 0,["error"].concat(o)),t.apply(void 0,o)}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=new XMLHttpRequest;t.open("POST",e,!0),t.setRequestHeader("Content-Type","application/json; charset=UTF-8"),t.send(JSON.stringify(n))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if("function"!=typeof e)throw new Error("unhandle: fn must me a function");window.addEventListener("error",e),window.addEventListener("unhandledrejection",e)}},function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),a=t(0).default,s=t(2).default,u=t(1).default,c=function(){function e(n){o(this,e),this.inited=!1,this.botId=null,this.chatId=null}return i(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.inited)throw new Error("errorsToTelegram already inited");if(!e.botId)throw new Error("botId must be provided");if(!e.chatId)throw new Error("chatId must be provided");this.botId=e.botId,this.chatId=e.chatId,this.inited=!0,s(this.handleError.bind(this)),a(this.handleConsole.bind(this))}},{key:"handleError",value:function(e){var n=this.createErrorMessage(e);this.sendMessage(n)}},{key:"handleConsole",value:function(){var e=this.createConsoleMessage.apply(this,arguments);this.sendMessage(e)}},{key:"getCommonInfo",value:function(){var e="*==browser==*";return e+="\n*Url* "+location.href,e+="\n*UserAgent* "+navigator.userAgent}},{key:"createConsoleMessage",value:function(e){for(var n=this.getCommonInfo(),t=arguments.length,o=Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];return n+=o.length?"\n*Console."+e+"*: `"+o.join(", ")+"`":""}},{key:"createErrorMessage",value:function(e){var n=this.getCommonInfo();if("object"===(void 0===e?"undefined":r(e))){var t=e.message||e.error,o=e.stack||e.error.stack,i=e.filename?e.filename+":"+e.lineno+":"+e.colno:"";n+=t?"\n*Message* "+t:"",n+=i?"\n*File* "+i:"",n+=o?"\n`"+o+"`":""}else n+=message?"\n*Message* "+e+"\n":"";return n}},{key:"sendMessage",value:function(e){var n="https://api.telegram.org/bot"+this.botId+"/sendMessage";u(n,{chat_id:this.chatId,parse_mode:"markdown",text:e})}}]),e}();e.exports=new c}])});
//# sourceMappingURL=index.umd.min.js.map