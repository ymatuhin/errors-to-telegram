{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///index.js","webpack:///webpack/bootstrap b0c8c181041573844402","webpack:///./src/consolePatch.js","webpack:///./src/http.post.node.js","webpack:///./src/unhandle.node.js","webpack:///./src/index.js","webpack:///external \"https\"","webpack:///external \"process\""],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_4__","__WEBPACK_EXTERNAL_MODULE_5__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","default","fn","Error","methods","console","global","window","forEach","method","_len","arguments","length","args","Array","_key","concat","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","err","isArray","TypeError","https","url","params","_url$slice$split","slice","split","_url$slice$split2","host","path","postData","JSON","stringify","options","hostname","headers","Content-Type","Content-Length","req","request","write","end","process","on","consolePatch","unhandleSubscribe","httpPost","telebug","inited","onError","error","commonInfo","getCommonInfo","errorInfo","createErrorMessage","sendMessage","onConsole","type","consoleInfo","createConsoleMessage","_len2","_key2","reduce","acc","val","index","info","getErrorInfo","file","message","stack","md","corsErrorText","filename","lineno","colno","versions","v8","customMessages","msg","text","apiUrl","chat_id","chatId","disable_web_page_preview","parse_mode","addCustomMessage","config","botId","Boolean","cors","customMessage"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"https\"), require(\"process\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"https\", \"process\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"telebug\"] = factory(require(\"https\"), require(\"process\"));\n\telse\n\t\troot[\"telebug\"] = factory(root[\"https\"], root[\"process\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"https\"), require(\"process\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"https\", \"process\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"telebug\"] = factory(require(\"https\"), require(\"process\"));\n\telse\n\t\troot[\"telebug\"] = factory(root[\"https\"], root[\"process\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"./dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (fn) {\n  if (typeof fn !== 'function') throw new Error('consolePatch: fn must be a function');\n\n  var methods = ['assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error', 'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log', 'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd', 'timeStamp', 'trace', 'warn'];\n  var console = global.console || window.console || {};\n  methods.forEach(function (method) {\n    console[method] = function () {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return fn.apply(undefined, [method].concat(args));\n    };\n  });\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar https = __webpack_require__(4);\n\nexports.default = function (url, params) {\n  var _url$slice$split = url.slice(8).split('.org'),\n      _url$slice$split2 = _slicedToArray(_url$slice$split, 2),\n      host = _url$slice$split2[0],\n      path = _url$slice$split2[1];\n\n  var postData = JSON.stringify(params);\n\n  var options = {\n    hostname: host + '.org',\n    path: path,\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json; charset=UTF-8',\n      'Content-Length': postData.length\n    }\n  };\n\n  var req = https.request(options);\n  req.write(postData);\n  req.end();\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar process = __webpack_require__(5);\n\nexports.default = function (fn) {\n  if (typeof fn !== 'function') throw new Error('unhandle: fn must be a function');\n\n  process.on('uncaughtException', fn);\n  process.on('unhandledRejection', fn);\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar upParser =  false ? require('ua-parser-js') : function () {};\nvar consolePatch = __webpack_require__(0).default;\nvar unhandleSubscribe =  false ? require('./unhandle.browser').default : __webpack_require__(2).default;\n\nvar httpPost =  false ? require('./http.post.browser').default : __webpack_require__(1).default;\n\nvar telebug = function () {\n  var corsErrorText = 'Error in script from another domain. You should add `crossorigin=\"anonymous\"` attribute to the script tag or set `Access-Control-Allow-Origin` header on the server.';\n  var inited = false;\n\n  return function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!config.chatId) throw new Error('chatId must be provided');\n    if (inited) throw new Error('Telebug already inited');\n    inited = true;\n\n    var defaultBotId = '474186924:AAGtoPx1A_q9MoLdhRCin5EmGwN7xlC_21g';\n    var botId = config.botId || defaultBotId;\n    var chatId = config.chatId;\n    var corsEnabled = Boolean(config.cors) || true;\n    var apiUrl = 'https://api.telegram.org/bot' + botId;\n    var customMessages = config.customMessage ? [config.customMessage] : [];\n\n    unhandleSubscribe(onError);\n    consolePatch(onConsole);\n\n    function onError(error) {\n      var commonInfo = getCommonInfo();\n      var errorInfo = createErrorMessage(error);\n      if (errorInfo) sendMessage(commonInfo + errorInfo);\n    }\n\n    function onConsole(type) {\n      var commonInfo = getCommonInfo();\n\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var consoleInfo = createConsoleMessage.apply(undefined, [type].concat(args));\n      if (consoleInfo) sendMessage(commonInfo + consoleInfo);\n    }\n\n    function createConsoleMessage(type) {\n      if (!type) return;\n\n      for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      if (args.length) {\n        var msg = args.reduce(function (acc, val, index) {\n          var comma = index === 0 ? '' : ', ';\n          return acc + comma + JSON.stringify(val);\n        }, '');\n        return '\\n`console.' + type + '(' + msg + ')`';\n      }\n    }\n\n    function createErrorMessage(error) {\n      var info = getErrorInfo(error);\n      if (!info.file && !info.message && !info.stack) return;\n      var md = '';\n\n      if (info.file) md += '\\n' + info.file;\n      if (info.message) md += '\\n' + info.message;\n      if (info.stack) md += '\\n`' + info.stack + '`';\n      return md;\n    }\n\n    function getErrorInfo(error) {\n      var info = {};\n\n      if (error.message) info.message = error.message;else if (error.error && error.error.message) info.message = error.error.message;else info.message = JSON.stringify(error);\n\n      if (info.message === 'Script error.') info.message = corsErrorText;\n\n      if (error.filename) info.file = error.filename + ':' + error.lineno + ':' + error.colno;\n\n      if (error.stack) info.stack = error.stack;else if (error.error && error.error.stack) info.stack = error.error.stack;\n\n      return info;\n    }\n\n    function getCommonInfo() {\n      var md = '';\n\n      if (false) {\n        var ua = upParser(navigator.userAgent);\n        var majorVersion = (ua.browser.version || '').split('.')[0];\n        if (ua.browser.name && ua.os.name) {\n          var browser = ua.browser.name ? ua.browser.name + ' ' + majorVersion : '';\n          var os = ua.os.name ? ua.os.name + ' ' + (ua.os.version || '') : '';\n          md += '*Browser* ' + browser + ' on ' + os;\n        }\n        md += '\\n' + location.href;\n      } else {\n        md += '*Node* ' + process.versions.v8;\n      }\n\n      customMessages.forEach(function (msg) {\n        return md += '\\n' + msg;\n      });\n      return md;\n    }\n\n    function sendMessage(text) {\n      var url = apiUrl + '/sendMessage';\n      httpPost(url, {\n        chat_id: chatId,\n        disable_web_page_preview: true,\n        parse_mode: 'markdown',\n        text: text\n      });\n    }\n\n    function addCustomMessage(message) {\n      customMessages.push(message);\n    }\n\n    return {\n      sendMessage: sendMessage,\n      addCustomMessage: addCustomMessage\n    };\n  };\n}();\n\nmodule.exports = telebug;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"https\");\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// index.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b0c8c181041573844402","export default fn => {\n  if (typeof fn !== 'function')\n    throw new Error('consolePatch: fn must be a function');\n\n  const methods = [\n    'assert',\n    'clear',\n    'count',\n    'debug',\n    'dir',\n    'dirxml',\n    'error',\n    'exception',\n    'group',\n    'groupCollapsed',\n    'groupEnd',\n    'info',\n    'log',\n    'markTimeline',\n    'profile',\n    'profileEnd',\n    'table',\n    'time',\n    'timeEnd',\n    'timeStamp',\n    'trace',\n    'warn',\n  ];\n  var console = global.console || window.console || {};\n  methods.forEach(method => {\n    console[method] = (...args) => fn(method, ...args);\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/consolePatch.js","const https = require('https');\n\nexport default (url, params) => {\n  const [host, path] = url.slice(8).split('.org');\n\n  const postData = JSON.stringify(params);\n\n  const options = {\n    hostname: host + '.org',\n    path,\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json; charset=UTF-8',\n      'Content-Length': postData.length,\n    },\n  };\n\n  const req = https.request(options);\n  req.write(postData);\n  req.end();\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/http.post.node.js","const process = require('process');\n\nexport default fn => {\n  if (typeof fn !== 'function')\n    throw new Error('unhandle: fn must be a function');\n\n  process.on('uncaughtException', fn);\n  process.on('unhandledRejection', fn);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/unhandle.node.js","const upParser = IS_BROWSER ? require('ua-parser-js') : () => {};\nconst consolePatch = require('./consolePatch').default;\nconst unhandleSubscribe = IS_BROWSER\n  ? require('./unhandle.browser').default\n  : require('./unhandle.node').default;\n\nconst httpPost = IS_BROWSER\n  ? require('./http.post.browser').default\n  : require('./http.post.node').default;\n\nconst telebug = (function() {\n  const corsErrorText = `Error in script from another domain. You should add \\`crossorigin=\"anonymous\"\\` attribute to the script tag or set \\`Access-Control-Allow-Origin\\` header on the server.`;\n  let inited = false;\n\n  return function(config = {}) {\n    if (!config.chatId) throw new Error('chatId must be provided');\n    if (inited) throw new Error('Telebug already inited');\n    inited = true;\n\n    const defaultBotId = '474186924:AAGtoPx1A_q9MoLdhRCin5EmGwN7xlC_21g';\n    const botId = config.botId || defaultBotId;\n    const chatId = config.chatId;\n    const corsEnabled = Boolean(config.cors) || true;\n    const apiUrl = `https://api.telegram.org/bot${botId}`;\n    const customMessages = config.customMessage ? [config.customMessage] : [];\n\n    unhandleSubscribe(onError);\n    consolePatch(onConsole);\n\n    function onError(error) {\n      const commonInfo = getCommonInfo();\n      const errorInfo = createErrorMessage(error);\n      if (errorInfo) sendMessage(commonInfo + errorInfo);\n    }\n\n    function onConsole(type, ...args) {\n      const commonInfo = getCommonInfo();\n      const consoleInfo = createConsoleMessage(type, ...args);\n      if (consoleInfo) sendMessage(commonInfo + consoleInfo);\n    }\n\n    function createConsoleMessage(type, ...args) {\n      if (!type) return;\n      if (args.length) {\n        const msg = args.reduce((acc, val, index) => {\n          const comma = index === 0 ? '' : ', ';\n          return acc + comma + JSON.stringify(val);\n        }, '');\n        return `\\n\\`console.${type}(${msg})\\``;\n      }\n    }\n\n    function createErrorMessage(error) {\n      const info = getErrorInfo(error);\n      if (!info.file && !info.message && !info.stack) return;\n      let md = ``;\n\n      if (info.file) md += `\\n${info.file}`;\n      if (info.message) md += `\\n${info.message}`;\n      if (info.stack) md += `\\n\\`${info.stack}\\``;\n      return md;\n    }\n\n    function getErrorInfo(error) {\n      const info = {};\n\n      if (error.message) info.message = error.message;\n      else if (error.error && error.error.message)\n        info.message = error.error.message;\n      else info.message = JSON.stringify(error);\n\n      if (info.message === 'Script error.') info.message = corsErrorText;\n\n      if (error.filename)\n        info.file = `${error.filename}:${error.lineno}:${error.colno}`;\n\n      if (error.stack) info.stack = error.stack;\n      else if (error.error && error.error.stack) info.stack = error.error.stack;\n\n      return info;\n    }\n\n    function getCommonInfo() {\n      let md = '';\n\n      if (IS_BROWSER) {\n        const ua = upParser(navigator.userAgent);\n        const majorVersion = (ua.browser.version || '').split('.')[0];\n        if (ua.browser.name && ua.os.name) {\n          const browser = ua.browser.name\n            ? `${ua.browser.name} ${majorVersion}`\n            : '';\n          const os = ua.os.name ? `${ua.os.name} ${ua.os.version || ''}` : '';\n          md += `\\*Browser* ${browser} on ${os}`;\n        }\n        md += `\\n${location.href}`;\n      } else {\n        md += `*Node* ${process.versions.v8}`;\n      }\n\n      customMessages.forEach(msg => (md += `\\n${msg}`));\n      return md;\n    }\n\n    function sendMessage(text) {\n      const url = `${apiUrl}/sendMessage`;\n      httpPost(url, {\n        chat_id: chatId,\n        disable_web_page_preview: true,\n        parse_mode: 'markdown',\n        text,\n      });\n    }\n\n    function addCustomMessage(message) {\n      customMessages.push(message);\n    }\n\n    return {\n      sendMessage,\n      addCustomMessage,\n    };\n  };\n})();\n\nmodule.exports = telebug;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = require(\"https\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"https\"\n// module id = 4\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"process\"\n// module id = 5\n// module chunks = 0"],"sourceRoot":""}